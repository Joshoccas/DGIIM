<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Práctica 1. Imágenes: Práctica 2: Abstracción. TDA Imagen</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Práctica 1. Imágenes
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Práctica 2: Abstracción. TDA Imagen </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<img src="intro.png" alt=""/>
</div>
<h1><a class="anchor" id="autotoc_md11"></a>
Introducción</h1>
<hr  />
<p>En esta práctica trabajaremos sobre la <a href="file:///home/agd3/Desktop/ED/practica_imagenesJ/cmake-build-debug/doc_doxygen/html/classImage.html">clase Image</a>, cuyos métodos primitivos ya han sido implementados. El TDA <a class="el" href="classImage.html" title="T.D.A. Imagen.">Image</a> representa imágenes en formato PGM, cuyos píxeles toman valores en una escala de grises de 0 a 255.</p>
<p>Añadimos como métodos de la clase distintas operaciones a realizar con una imagen PGM: invertir el valor de sus bytes en la escala de grises, recortar una imagen, hacer zoom sobre ella, crear un icono de esta, modificar su contraste y barajar sus filas. Utilizamos cada uno de estos métodos en un ejecutable que recibe una imagen como argumento y devuelve el resultado de aplicar el método que corresponda para comprobar su correcto funcionamiento.</p>
<p>Los métodos auxiliares que hemos implementado para opepuedanrar con imágenes PGM, nos ofrecen la posibilidad de invertir una imagen, recortarla, hacer zoom sobre ella, generar un icono, aumentar o disminuir su contraste, y barajar sus filas. Estos métodos se encuentran implementados en el archivo fuente <a class="el" href="imageop_8cpp.html" title="Fichero con definiciones para el resto de métodos de la clase Image.">imageop.cpp</a>, y los ejecutables que se describen a continuación prueban su correcto funcionamiento.</p>
<p>Buscando aumentar la eficiencia, hemos modificado ciertos métodos primitivos, de manera que en estos no se supone que en la representación interna de la clase byte ** img apunte a una lista de byte * consecutivos en memoria. Es decir, hemos optado por mantener la implementación como hasta ahora pero dejar de asumir que img[i+1] == img[i]+cols tan pronto como la matriz queda inicializada.</p>
<h1><a class="anchor" id="autotoc_md13"></a>
Ejecutables</h1>
<hr  />
<div class="image">
<img src="negativo.png" alt=""/>
</div>
 <h2><a class="anchor" id="autotoc_md15"></a>
Negativo:</h2>
<p>Calcula el negativo de una imagen Recibe la ruta a una imagen, objeto que llama al método <a class="el" href="classImage.html#a6c9c1b3fef7795378f8a56fdd491ffa0" title="Modifica una imagen PGM calculando el negativo (invierte la imagen).">Image::Invert()</a> El negativo de un píxel con valor <em>x</em> será <em>255-x</em>.</p>
<blockquote class="doxtable">
<p><b>negativo</b> &lt;FichImagenOriginal&gt; &lt;FichImagenDestino&gt; </p>
</blockquote>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;FichImagenOriginal&gt;</td><td>Imagen PGM a la que se va a calcular el negativo </td></tr>
    <tr><td class="paramname">&lt;FichImagenDestino&gt;</td><td>Imagen PGM resultado de calcular el negativo</td></tr>
  </table>
  </dd>
</dl>
<div class="image">
<img src="subimagen.png" alt=""/>
</div>
 <h2><a class="anchor" id="autotoc_md16"></a>
Subimagen:</h2>
<p>Genera una subimagen</p>
<p>Se utiliza el método <a class="el" href="classImage.html#aad309b582d08dfd826c5106eaf80eb1e" title="Genera una subimagen.">Image::Crop()</a>, que devuelve una nueva imagen de tamaño <em>FilasSubimagen * ColumnasSubimagen</em>, cuyos píxeles tendrán el mismo valor que los de la imagen original a partir de la fila <em>FilaSupIzq</em> y columna <em>ColumnaSupIzq</em>.</p>
<blockquote class="doxtable">
<p><b>subimagen</b> &lt;FichImagenOriginal&gt; &lt;FichImagenDestino&gt; &lt;FilaSupIzq&gt; &lt;ColumnaSupIzq&gt; &lt;FilasSubimagen&gt; &lt;ColumnasSubimagen&gt; </p>
</blockquote>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;FichImagenOriginal&gt;</td><td>Imagen PGM original de la que se va a generar una subimagen </td></tr>
    <tr><td class="paramname">&lt;FichImagenDestino&gt;</td><td>Imagen PGM con el recorte </td></tr>
    <tr><td class="paramname">&lt;FilaSupIzq&gt;</td><td>Fila inicial para recortar </td></tr>
    <tr><td class="paramname">&lt;ColumnaSupIzq&gt;</td><td>Columna inicial para recortar </td></tr>
    <tr><td class="paramname">&lt;FilasSubimagen&gt;</td><td>Número de filas del recorte </td></tr>
    <tr><td class="paramname">&lt;ColumnasSubimagen&gt;</td><td>Número de columnas del recorte</td></tr>
  </table>
  </dd>
</dl>
<div class="image">
<img src="zoom.png" alt=""/>
</div>
 <h2><a class="anchor" id="autotoc_md17"></a>
Zoom:</h2>
<p>Genera una imagen aumentada 2x</p>
<p>Se hace un recorte de la imagen con el método <a class="el" href="classImage.html#aad309b582d08dfd826c5106eaf80eb1e" title="Genera una subimagen.">Image::Crop()</a> y después la subimagen generada llama a <a class="el" href="classImage.html#af7c220a99f8b90c6e9f243ee22943305" title="Genera una imagen aumentada 2x.">Image::Zoom2X()</a>. Este método introduce una nueva columna (resp. fila) entre cada dos columnas (resp. filas) de la imagen cuyos valores son la media de los píxeles que tiene a la izquierda y la derecha (resp. arriba y abajo). Los píxeles que quedan entre los nuevos valores asignados serán media de los 4 píxeles de sus diagonales (que pertenecen a la imagen original).</p>
<blockquote class="doxtable">
<p><b>zoom</b> &lt;FichImagenOriginal&gt; &lt;FichImagenDestino&gt; &lt;FilaSupIzq&gt; &lt;ColumnaSupIzq&gt; &lt;LadoImagenAumentada&gt; </p>
</blockquote>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;FichImagenOriginal&gt;</td><td>Imagen PGM original </td></tr>
    <tr><td class="paramname">&lt;FichImagenDestino&gt;</td><td>Imagen PGM aumentada </td></tr>
    <tr><td class="paramname">&lt;FilaSupIzq&gt;</td><td>Fila inicial para recortar </td></tr>
    <tr><td class="paramname">&lt;ColumnaSupIzq&gt;</td><td>Columna inicial para recortar </td></tr>
    <tr><td class="paramname">&lt;LadoImagenAumentada&gt;</td><td>Número de filas y columnas de la imagen aumentada</td></tr>
  </table>
  </dd>
</dl>
<div class="image">
<img src="icono.png" alt=""/>
</div>
 <h2><a class="anchor" id="autotoc_md18"></a>
Icono:</h2>
<p>Genera un icono como reducción de una imagen.</p>
<p>Llama al método <a class="el" href="classImage.html#aa00e596a67ec6130922c560049457985" title="Genera un icono como reducción de una imagen.">Image::Subsample()</a>. Para una reducción de <em>n</em> x cada píxel de la salida es la media de los <em>n</em> x <em>n</em> píxeles de la entrada. El icono tendrá tamaño <em>rows * cols / n²</em>.</p>
<blockquote class="doxtable">
<p><b>icono</b> &lt;FichImagenOriginal&gt; &lt;FichImagenDestino&gt; &lt;Factor&gt; </p>
</blockquote>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;FichImagenOriginal&gt;</td><td>Imagen PGM original </td></tr>
    <tr><td class="paramname">&lt;FichImagenDestino&gt;</td><td>Imagen PGM con el icono </td></tr>
    <tr><td class="paramname">&lt;Factor&gt;</td><td>Factor de reducción. La imagen resultante tendrá floor(filas/factor) x floor(cols/factor)</td></tr>
  </table>
  </dd>
</dl>
<div class="image">
<img src="contraste.png" alt=""/>
</div>
 <h2><a class="anchor" id="autotoc_md19"></a>
Contraste:</h2>
<p>Modifica el contraste de una imagen PGM.</p>
<p>Este programa prueba el funcionamiento de <a class="el" href="classImage.html#a4884f3eb51efdecc005092534ba7e4ea" title="Modifica el contraste de una imagen.">Image::AdjustContrast()</a>. Se asignan nuevos valores a los píxeles con una transformación lineal a trozos:</p>
<blockquote class="doxtable">
<p><em>T(x) = min + [((max – min) / (b – a)) * (x – a)]</em> </p>
</blockquote>
<p>Siendo <em>T(x)</em> es el nuevo valor del píxel con valor <em>x</em> tal que <em>a &lt;= x &lt;= b</em>. Por tanto, los nuevos valores de los píxeles estarán en el rango:</p>
<ul>
<li>[0, s1[ si sus valores iniciales están en [0,e1[,</li>
<li>[s1, s2] si sus valores iniciales están en [e1,e2], y</li>
<li>]s2, 255] si sus valores iniciales están en ]e2,255].</li>
</ul>
<p>Podemos observar el comportamiento de la función en esta gráfica:</p>
<div class="image">
<img src="grafica_contraste.png" alt=""/>
</div>
<blockquote class="doxtable">
<p><b>contraste</b> &lt;FichImagenOriginal&gt; &lt;FichImagenDestino&gt; &lt;UmbralInferiorIn&gt; &lt;UmbralSuperiorIn&gt; &lt;UmbralInferiorOut&gt; &lt;UmbralSuperiorOut&gt; </p>
</blockquote>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;FichImagenOriginal&gt;</td><td>Imagen PGM a la que se va a aumentar el contraste </td></tr>
    <tr><td class="paramname">&lt;FichImagenDestino&gt;</td><td>Imagen PGM resultado de modificar el contraste </td></tr>
    <tr><td class="paramname">&lt;UmbralInferiorIn&gt;</td><td>Umbral inferior de la imagen de entrada </td></tr>
    <tr><td class="paramname">&lt;UmbralSuperiorIn&gt;</td><td>Umbral superior de la imagen de entrada </td></tr>
    <tr><td class="paramname">&lt;UmbralInferiorOut&gt;</td><td>Umbral inferior de la imagen de salida </td></tr>
    <tr><td class="paramname">&lt;UmbralSuperiorOut&gt;</td><td>Umbral superior de la imagen de salida</td></tr>
  </table>
  </dd>
</dl>
<div class="image">
<img src="barajar.png" alt=""/>
</div>
 <h2><a class="anchor" id="autotoc_md20"></a>
Barajar:</h2>
<p>Genera una imagen PGM a partir de otra barajando sus filas pseudoaleatoriamente.</p>
<p>Utiliza <a class="el" href="classImage.html#a27d5bab7af11a729048b82af06f2d0c0" title="Baraja pseudoaleatoriamente las filas de una imagen.">Image::ShuffleRows()</a>, que genera una nueva imagen igual que la original pero con las filas ordenadas según</p>
<blockquote class="doxtable">
<p><em>r' = (r*p) mod rows</em> </p>
</blockquote>
<p>donde <em>r'</em> es el nuevo índice de la fila <em>r</em> y <em>p = 9973</em> es un coprimo de <em>rows</em>.</p>
<blockquote class="doxtable">
<p><b>contraste</b> &lt;FichImagenOriginal&gt; &lt;FichImagenDestino&gt; </p>
</blockquote>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;FichImagenOriginal&gt;</td><td>Imagen PGM cuyas filas se van a barajar </td></tr>
    <tr><td class="paramname">&lt;FichImagenDestino&gt;</td><td>Imagen PGM resultado de barajar las filas</td></tr>
  </table>
  </dd>
</dl>
<p>Ver <a href="file:///home/agd3/Desktop/ED/practica_imagenesJ/cmake-build-debug/doc_doxygen/html/eficiencia.html">Estudio de Eficiencia</a> </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
